description: >
  This command generates a Container Profile ("X-Ray") report for a given container build using the Slim Developer Platform.
  The generated report will be uploaded to CircleCI's Artifacts tab as a JSON document, and the container image will also be added to the user's
  "Favorites" collection in the Slim portal for easy access in the future.
# #What will this command do?
# Descriptions should be short, simple, and clear.
parameters:
  imageName:
    type: string
    description: "Container image to scan, e.g. library/node:latest"
  imageConnector:
    type: string
    description: "Registry Connect from Slim platform, e.g. dockerhub.public"
steps:
  - run:
      environment:
        PARAM_IMAGE: <<parameters.imageName>>
        IMAGE_CONNECTOR: <<parameters.imageConnector>>
        XRAY_REQUEST: <<include(scripts/xray_request.json)>>
      name: Engine Execution - X-Ray
      command: <<include(scripts/xray.sh)>>
